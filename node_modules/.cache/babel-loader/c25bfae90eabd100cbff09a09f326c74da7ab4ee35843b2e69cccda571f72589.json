{"ast":null,"code":"var _jsxFileName = \"/Users/jens/my-app/src/Smt/components/SmtDeviceStatus/SmtDeviceStatus.jsx\";\nimport React, { Component } from \"react\";\n// import AnimationUtil from '@/utils/AnimationUtil';\nimport smtDeviceAnimation from './SmtDeviceAnimation';\n// import AxiosHttp from '@/utils/AxiosHttp.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet fonts = [{\n  name: '轨道1物料2',\n  text: \"物料编号2\",\n  size: 18,\n  index: 1\n}, {\n  name: '轨道1物料3',\n  text: \"物料编号3\",\n  size: 18,\n  index: 1\n}, {\n  name: '轨道1物料4',\n  text: \"物料编号4\",\n  size: 18,\n  index: 1\n}, {\n  name: '轨道1物料5',\n  text: \"物料编号5\",\n  size: 18,\n  index: 1\n}, {\n  name: '轨道2物料2',\n  text: \"物料编号2\",\n  size: 18,\n  index: 1\n}, {\n  name: '轨道2物料3',\n  text: \"物料编号3\",\n  size: 18,\n  index: 1\n}, {\n  name: '轨道2物料4',\n  text: \"物料编号4\",\n  size: 18,\n  index: 1\n}, {\n  name: '轨道2物料5',\n  text: \"物料编号5\",\n  size: 18,\n  index: 1\n}, {\n  name: '灰色物料1',\n  text: \"物料编号1\",\n  size: 18,\n  index: 1\n}, {\n  name: '灰色物料2',\n  text: \"物料编号2\",\n  size: 18,\n  index: 1\n}, {\n  name: '灰色物料3',\n  text: \"物料编号2\",\n  size: 18,\n  index: 1\n}, {\n  name: '完成绿色物料',\n  text: \"物料编号\",\n  size: 18,\n  index: 1\n}, {\n  name: '不良灰色物料完成',\n  text: \"物料编号\",\n  size: 18,\n  index: 1\n}, {\n  name: '绿色待上料',\n  text: \"物料编号\",\n  size: 18,\n  index: 1\n}];\nexport default class SmtDeviceStatus extends Component {\n  constructor(props) {\n    super(props);\n    // getStationStatus=()=>{ //获取工位状态\n    //     AxiosHttp.\n    //     // get('/station/status/line2')\n    //     post('/smt/stationStatus')\n    //     .then(\n    //        this.handelStatus\n    //     ).catch(error=>{\n    //         console.log(error)\n    //     })\n    // }\n    this.handelStatus = () => {\n      let stationStatus = [];\n      let res = [];\n      if (res.ok === 1 && res.value.length) {\n        res.value.forEach(item => {\n          let items = {\n            number: '',\n            name: '',\n            status: ''\n          };\n          // items.number=item.rows[0].Station\n          // items.name=item.rows[0].StationName\n          items.number = item.WorkstationOrder;\n          items.name = item.StationID;\n          // switch(item.WorkstationStatus){\n          //     case 0:items.status='normal'\n          //         break;\n          //     case 1:items.status='repair'\n          //         break;\n          //     case 2:items.status='error'\n          //         break;\n          //     default:\n          //         break;\n          // }\n          switch (item.WorkstationStatus) {\n            case 0:\n              items.status = 'unEnable';\n              break;\n            case 1:\n              items.status = 'enable';\n              break;\n            default:\n              break;\n          }\n          stationStatus.push(items);\n        });\n        this.customFonts(stationStatus);\n        smtDeviceAnimation.initStationStatus(stationStatus);\n      }\n    };\n    this.customFonts = data => {\n      data.forEach(item => {\n        if (Object.keys(item).length === 4) {\n          smtDeviceAnimation.initFont(item.text, item.name, item.size, item.index);\n        } else {\n          smtDeviceAnimation.initFont(item.name, item.number, item.size = 18);\n        }\n      });\n    };\n    this.initObj = () => {\n      smtDeviceAnimation.initdata();\n      smtDeviceAnimation.initMetarial1();\n      smtDeviceAnimation.initMachine1();\n      smtDeviceAnimation.initMachine2();\n      smtDeviceAnimation.initMachine3();\n      this.customFonts(fonts);\n      setInterval(() => {\n        // if( !document.hidden && window.location.hash ===\"#/smt\"){\n        // smtDeviceAnimation.getSmtTesterData();\n        smtDeviceAnimation.initAction();\n        // this.getStationStatus() //更新工位名称和状态\n        // } \n      }, 3000);\n    };\n    this.state = {\n      loading: true\n    };\n  }\n  componentDidMount() {\n    smtDeviceAnimation.init('animation', '/models/smt20180821.fbx').then(() => {\n      this.initObj();\n      this.setState({\n        loading: false\n      });\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"product-main three-muodle\",\n      children: [this.state.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-moudle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"animation\",\n        style: {\n          height: '550px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, this);\n  }\n}\nSmtDeviceStatus.displayName = \"SmtDeviceStatus\";","map":{"version":3,"names":["React","Component","smtDeviceAnimation","jsxDEV","_jsxDEV","fonts","name","text","size","index","SmtDeviceStatus","constructor","props","handelStatus","stationStatus","res","ok","value","length","forEach","item","items","number","status","WorkstationOrder","StationID","WorkstationStatus","push","customFonts","initStationStatus","data","Object","keys","initFont","initObj","initdata","initMetarial1","initMachine1","initMachine2","initMachine3","setInterval","initAction","state","loading","componentDidMount","init","then","setState","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","style","height","displayName"],"sources":["/Users/jens/my-app/src/Smt/components/SmtDeviceStatus/SmtDeviceStatus.jsx"],"sourcesContent":["import React, { Component } from \"react\";\r\n// import AnimationUtil from '@/utils/AnimationUtil';\r\nimport smtDeviceAnimation from './SmtDeviceAnimation';\r\n// import AxiosHttp from '@/utils/AxiosHttp.js';\r\n\r\nlet fonts=[\r\n    {   name:'轨道1物料2',\r\n        text:\"物料编号2\",\r\n        size:18,\r\n        index:1\r\n    }\r\n    ,\r\n    {   name:'轨道1物料3',\r\n        text:\"物料编号3\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'轨道1物料4',\r\n        text:\"物料编号4\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'轨道1物料5',\r\n        text:\"物料编号5\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'轨道2物料2',\r\n        text:\"物料编号2\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'轨道2物料3',\r\n        text:\"物料编号3\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'轨道2物料4',\r\n        text:\"物料编号4\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'轨道2物料5',\r\n        text:\"物料编号5\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'灰色物料1',\r\n        text:\"物料编号1\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'灰色物料2',\r\n        text:\"物料编号2\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'灰色物料3',\r\n        text:\"物料编号2\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'完成绿色物料',\r\n        text:\"物料编号\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'不良灰色物料完成',\r\n        text:\"物料编号\",\r\n        size:18,\r\n        index:1\r\n    },\r\n    {   name:'绿色待上料',\r\n        text:\"物料编号\",\r\n        size:18,\r\n        index:1\r\n    }\r\n]\r\nexport default class SmtDeviceStatus extends Component {\r\n    static displayName = \"SmtDeviceStatus\";\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading:true  \r\n        };\r\n    }\r\n\r\n    // getStationStatus=()=>{ //获取工位状态\r\n    //     AxiosHttp.\r\n    //     // get('/station/status/line2')\r\n    //     post('/smt/stationStatus')\r\n    //     .then(\r\n    //        this.handelStatus\r\n    //     ).catch(error=>{\r\n    //         console.log(error)\r\n    //     })\r\n    // }\r\n\r\n    handelStatus=()=>{\r\n        let stationStatus=[\r\n           \r\n        ];\r\n        let res =[\r\n            \r\n        ]\r\n        if(res.ok===1 && res.value.length){\r\n            res.value.forEach(item =>{\r\n                let items={\r\n                    number:'',\r\n                    name:'',\r\n                    status:''\r\n                }\r\n                // items.number=item.rows[0].Station\r\n                // items.name=item.rows[0].StationName\r\n                items.number=item.WorkstationOrder\r\n                items.name=item.StationID\r\n                // switch(item.WorkstationStatus){\r\n                //     case 0:items.status='normal'\r\n                //         break;\r\n                //     case 1:items.status='repair'\r\n                //         break;\r\n                //     case 2:items.status='error'\r\n                //         break;\r\n                //     default:\r\n                //         break;\r\n                // }\r\n                switch(item.WorkstationStatus){\r\n                    case 0:items.status='unEnable'\r\n                        break;\r\n                    case 1:items.status='enable'\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n\r\n                stationStatus.push(items);\r\n            \r\n            })\r\n            this.customFonts(stationStatus)\r\n            smtDeviceAnimation.initStationStatus(stationStatus);\r\n        }\r\n       \r\n    }\r\n    customFonts=(data)=>{\r\n        data.forEach(item=>{\r\n            if(Object.keys(item).length===4){\r\n                smtDeviceAnimation.initFont(item.text,item.name,item.size ,item.index)\r\n            }else{\r\n                smtDeviceAnimation.initFont(item.name,item.number,item.size=18 )\r\n            }\r\n        })\r\n    }\r\n    initObj=()=> {\r\n        smtDeviceAnimation.initdata();\r\n        smtDeviceAnimation.initMetarial1();\r\n        smtDeviceAnimation.initMachine1();\r\n        smtDeviceAnimation.initMachine2();\r\n        smtDeviceAnimation.initMachine3();\r\n        this.customFonts(fonts)\r\n        setInterval(() => {\r\n            // if( !document.hidden && window.location.hash ===\"#/smt\"){\r\n                // smtDeviceAnimation.getSmtTesterData();\r\n                smtDeviceAnimation.initAction(); \r\n                // this.getStationStatus() //更新工位名称和状态\r\n            // } \r\n        },3000);\r\n       \r\n    }\r\n \r\n    componentDidMount() {\r\n        smtDeviceAnimation.init('animation', '/models/smt20180821.fbx').then((()=>{\r\n            this.initObj();\r\n            this.setState({loading:false})\r\n        }));\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <section className='product-main three-muodle'>\r\n                {this.state.loading &&  <div className='loading-moudle'></div>}\r\n                <div id=\"animation\" style={{height:'550px'}}></div>\r\n            </section>\r\n        )\r\n    }\r\n\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}